var base64k=function(r){"use strict";var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function o(r,e){return r.charCodeAt(Math.floor(e%r.length))}function e(r,e){var n=[];for(var t=0;t<r.length;t++){var a=r[t];n.push(a.charCodeAt(0)^o(e,t))}return n}function n(r,e){var n=[];for(var t=0;t<r.length;t++){var a=r[t];n.push(String.fromCharCode(a^o(e,t)))}return n.join("")}function t(r){if(!r){return r}var e,n,t,a,o,i,h,c,f,d=0,u="";do{e=r[d++];n=r[d++];t=r[d++];c=e<<16|n<<8|t;a=c>>18&63;o=c>>12&63;i=c>>6&63;h=c&63;u+=C.charAt(a)+C.charAt(o)+C.charAt(i)+C.charAt(h)}while(d<r.length);f=r.length%3;return(f?u.slice(0,f-3):u)+"===".slice(f||3)}function a(r){var e,n,t,a,o,i,h,c,f=0,d=[];if(!r){return r}r+="";do{a=C.indexOf(r.charAt(f++));o=C.indexOf(r.charAt(f++));i=C.indexOf(r.charAt(f++));h=C.indexOf(r.charAt(f++));c=a<<18|o<<12|i<<6|h;e=c>>16&255;n=c>>8&255;t=c&255;d.push(e);if(i!==64){d.push(n);if(h!==64){d.push(t)}}}while(f<r.length);return d}var i={keyEncode:e,keyDecode:n,encrypt:t,decrypt:a};var d=function(r){r=r.replace(/\r\n/g,"n");var e="";for(var n=0;n<r.length;n++){var t=r.charCodeAt(n);if(t<128){e+=String.fromCharCode(t)}else if(t>127&&t<2048){e+=String.fromCharCode(t>>6|192);e+=String.fromCharCode(t&63|128)}else{e+=String.fromCharCode(t>>12|224);e+=String.fromCharCode(t>>6&63|128);e+=String.fromCharCode(t&63|128)}}return e};var u=function(r){var e="";var n=0;var t,a,o=0;while(n<r.length){t=r.charCodeAt(n);if(t<128){e+=String.fromCharCode(t);n++}else if(t>191&&t<224){o=r.charCodeAt(n+1);e+=String.fromCharCode((t&31)<<6|o&63);n+=2}else{o=r.charCodeAt(n+1);a=r.charCodeAt(n+2);e+=String.fromCharCode((t&15)<<12|(o&63)<<6|a&63);n+=3}}return e};var h=function(r){var e="";var n,t,a,o,i,h,c;var f=0;r=d(r);while(f<r.length){n=r.charCodeAt(f++);t=r.charCodeAt(f++);a=r.charCodeAt(f++);o=n>>2;i=(n&3)<<4|t>>4;h=(t&15)<<2|a>>6;c=a&63;if(isNaN(t)){h=c=64}else if(isNaN(a)){c=64}e=e+C.charAt(o)+C.charAt(i)+C.charAt(h)+C.charAt(c)}return e};var c=function(r){var e="";var n,t,a;var o,i,h,c;var f=0;r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");while(f<r.length){o=C.indexOf(r.charAt(f++));i=C.indexOf(r.charAt(f++));h=C.indexOf(r.charAt(f++));c=C.indexOf(r.charAt(f++));n=o<<2|i>>4;t=(i&15)<<4|h>>2;a=(h&3)<<6|c;e=e+String.fromCharCode(n);if(h!=64){e=e+String.fromCharCode(t)}if(c!=64){e=e+String.fromCharCode(a)}}e=u(e);return e};var f={encode:h,decode:c};function v(r,e){if(!r){r=10}e=e&&e.toLowerCase();var n="",t=0,a=e=="a"?10:0,o=e=="n"?10:62;for(;t++<r;){var i=Math.random()*(o-a)+a<<0;n+=String.fromCharCode(i+=i>9?i<36?55:61:48)}return n}function A(r,e){if(e){return i.encrypt(i.keyEncode(r,e))}return f.encode(r)}function g(r,e){if(e){return i.keyDecode(i.decrypt(r),e)}return f.decode(r)}function l(r,e){if(!e){e=v(10,"a")}var n=A(r,e)+"@"+e;return n}function s(r){var e=r.split("@");if(e.length!=2){return""}return g(e[0],e[1])}r.BASE64_CHAR=C;r.decode=g;r.dynDecode=s;r.dynEncode=l;r.encode=A;r.genKey=v;return r}({});
